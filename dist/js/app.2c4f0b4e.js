webpackJsonp([1],{0:function(e,t,n){e.exports=n("NHnr")},"6siT":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("/5sW"),a=(n("6siT"),n("Pi1K"),n("w1QW"),n("Biqn")),r=n.n(a),i=n("NYxO"),s={name:"Header",computed:r()({},Object(i["b"])(["year","month"]),{monthName:function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return e[this.month]}})},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{class:e.$style.root},[e._v(e._s(e.monthName)+" "+e._s(e.year))])},c=[],l=n("XyMi");function m(e){this["$style"]=n("oUnx")}var h=!1,d=m,f=null,y=null,_=Object(l["a"])(s,u,c,h,d,f,y),b=_.exports,p={name:"Weekday",data:function(){return{weekday:["Su","Mo","Tu","We","Th","Fr","Sa"]}}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.weekday,function(t){return n("label",{key:t,class:e.$style.root},[e._v(e._s(t))])}))},g=[];function $(e){this["$style"]=n("ci6R")}var w=!1,D=$,N=null,W=null,x=Object(l["a"])(p,v,g,w,D,N,W),M=x.exports,z=window,j=z.W,k={name:"Days",props:["number","note"],data:function(){return{initialValue:""}},computed:r()({},Object(i["b"])(["username"])),methods:{invalidClass:function(e){if(e<1)return this.$style.invalid},notifToAll:function(){console.log(this.initialValue,this.note,this.username),this.initialValue!==this.note&&(console.log("notif"),j.sendNotificationToAll("Event was added by ".concat(this.username),this.note))},changeInitialValue:function(){this.initialValue=this.note},changeNotes:function(e,t){this.$store.dispatch("addNote",{day:e,note:t})}}},O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:[e.$style.day,e.invalidClass(e.number)]},[n("textarea",{attrs:{dir:"auto",placeholder:"What would you like to do?",required:"true",type:"text"},domProps:{value:e.note},on:{input:function(t){e.changeNotes(e.number,t.target.value)},focus:e.changeInitialValue,blur:e.notifToAll}}),n("span",{class:[(new Date).getDate()===e.number&&e.$style.today]},[e._v(e._s(e.number))]),n("em")])},A=[];function S(e){this["$style"]=n("SDX9")}var H=!1,T=S,E=null,V=null,C=Object(l["a"])(k,O,A,H,T,E,V),J=C.exports,P={name:"Days",components:{Day:J},computed:r()({},Object(i["b"])(["year","month","notes"]),{monthNumber:function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return e[this.month]},numbers:function(){return this.monthNumber+new Date(this.year,this.month,1).getDay()}})},R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.numbers,function(t){return n("Day",{key:t,attrs:{number:t-(e.numbers-e.monthNumber),note:e.notes[t-(e.numbers-e.monthNumber)]}})}))},X=[],q=!1,F=null,Y=null,I=null,K=Object(l["a"])(P,R,X,q,F,Y,I),Q=K.exports,U=(n("EuXz"),n("NM/j")),B=n.n(U),G=(n("y9m4"),n("fx22"),window),L=G.W,Z=function(e,t){e.$store.commit("changeCustomizeMode",!0),t()},ee=function(e){Promise.all([L.loadData(),L.share.getFromServer([])]).then(function(t){var n=B()(t,1),o=n[0],a=o.user.name,r=o.creator,i=o.customize,s=i.year,u=i.month;e.$store.commit("changeWebliteRelatedData",{year:s,month:u,username:a,isAdmin:r})}),L.share.subscribe(function(t){e.$store.commit("changeNotes",t||{})})},te=function(e){return L.setHooks({wappWillStart:function(t,n,o){var a=o.mode,r="customize"===a?Z:ee;r(e,t)},onCustomizeValueChange:function(t){var n=t.key,o=t.value;"year"===n?e.$store.commit("changeYear",o):"month"===n&&e.$store.commit("changeMonth",o)}})},ne=window,oe=ne.W,ae=function(e){return oe.share.dispatch([],e,{})},re=function(e,t){return ae(["__assoc",[e,t]])},ie=window,se=ie.W;o["a"].use(i["a"]);var ue=new i["a"].Store({state:{year:2019,month:0,username:"",isAdmin:!1,customizeMode:!1,notes:{}},mutations:{changeWebliteRelatedData:function(e,t){var n=t.year,o=t.month,a=t.username,r=t.isAdmin;e.year=n,e.month=o,e.username=a,e.isAdmin=r,se.start()},changeYear:function(e,t){e.year=t},changeMonth:function(e,t){e.month=t},changeCustomizeMode:function(e,t){e.customizeMode=t},changeNotes:function(e,t){e.notes=t}},actions:{addNote:function(e,t){var n=t.day,o=t.note;re(n,o)}},plugins:[function(e){var t=e.commit;return se.share.subscribe(function(e){return t("changeNotes",e)})}]}),ce=window,le=ce.W,me={name:"App",store:ue,created:function(){le&&te(this)},components:{Header:b,Weekday:M,Days:Q},computed:r()({},Object(i["b"])(["customizeMode"]))},he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.root},[n("Header"),n("Weekday"),n("Days"),e.customizeMode?n("div",{class:e.$style.customize}):e._e()],1)},de=[];function fe(e){this["$style"]=n("fSpt")}var ye=!1,_e=fe,be=null,pe=null,ve=Object(l["a"])(me,he,de,ye,_e,be,pe),ge=ve.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(ge)}}).$mount("#app")},Pi1K:function(e,t){},SDX9:function(e,t){e.exports={day:"Day_day__3jfq8",invalid:"Day_invalid__3-O_h",today:"Day_today__2rb7z"}},ci6R:function(e,t){e.exports={root:"Weekday_root__2M0Hn"}},fSpt:function(e,t){e.exports={root:"App_root__2SJlR",customize:"App_customize__2cG2X"}},oUnx:function(e,t){e.exports={root:"Header_root__k8v1j"}},w1QW:function(e,t){}},[0]);
//# sourceMappingURL=app.2c4f0b4e.js.map