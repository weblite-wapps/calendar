webpackJsonp([1],{0:function(e,t,n){e.exports=n("NHnr")},"6siT":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("/5sW"),a=(n("6siT"),n("Pi1K"),n("w1QW"),n("Biqn")),r=n.n(a),i=n("NYxO"),s={name:"Header",computed:r()({},Object(i["b"])(["year","month"]),{monthName:function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return e[this.month]}})},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{class:e.$style.root},[e._v(e._s(e.monthName)+" "+e._s(e.year))])},c=[],m=n("XyMi");function l(e){this["$style"]=n("oUnx")}var d=!1,h=l,f=null,y=null,p=Object(m["a"])(s,u,c,d,h,f,y),b=p.exports,v={name:"Weekday",data:function(){return{weekday:["Su","Mo","Tu","We","Th","Fr","Sa"]}}},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.weekday,function(t){return n("label",{key:t,class:e.$style.root},[e._v(e._s(t))])}))},w=[];function g(e){this["$style"]=n("ci6R")}var $=!1,D=g,N=null,W=null,x=Object(m["a"])(v,_,w,$,D,N,W),z=x.exports,M=n("rzQm"),j=n.n(M),k=window,O=k.W,A=function(e,t){var n=t.username,o=t.note,a="add"===e?["Event was added by ".concat(n),o]:"modify"===e?["Event was modified by ".concat(n),o]:"remove"===e?["Event was removed by ".concat(n),o]:void 0;a&&O.sendNotificationToAll.apply(O,j()(a))},S={name:"Days",props:["number","note"],data:function(){return{initialValue:"",type:""}},computed:r()({},Object(i["b"])(["username"])),methods:{invalidClass:function(e){if(e<1)return this.$style.invalid},notifToAll:function(){var e=this.initialValue,t=this.note,n=this.username;e!==t&&(this.type=e?t?"modify":"remove":"add",A(this.type,{username:n,note:t}))},changeInitialValue:function(){this.initialValue=this.note},changeNotes:function(e,t){this.$store.dispatch("addNote",{day:e,note:t})}}},E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:[e.$style.day,e.invalidClass(e.number)]},[n("textarea",{attrs:{dir:"auto",placeholder:"What would you like to do?",required:"true",type:"text"},domProps:{value:e.note},on:{input:function(t){e.changeNotes(e.number,t.target.value)},focus:e.changeInitialValue,blur:e.notifToAll}}),n("span",{class:[(new Date).getDate()===e.number&&e.$style.today]},[e._v(e._s(e.number))]),n("em")])},H=[];function T(e){this["$style"]=n("SDX9")}var C=!1,V=T,J=null,P=null,R=Object(m["a"])(S,E,H,C,V,J,P),X=R.exports,q={name:"Days",components:{Day:X},computed:r()({},Object(i["b"])(["year","month","notes"]),{monthNumber:function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return e[this.month]},numbers:function(){return this.monthNumber+new Date(this.year,this.month,1).getDay()}})},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.numbers,function(t){return n("Day",{key:t,attrs:{number:t-(e.numbers-e.monthNumber),note:e.notes[t-(e.numbers-e.monthNumber)]}})}))},Q=[],Y=!1,I=null,K=null,U=null,B=Object(m["a"])(q,F,Q,Y,I,K,U),G=B.exports,L=(n("EuXz"),n("NM/j")),Z=n.n(L),ee=(n("y9m4"),n("fx22"),window),te=ee.W,ne=function(e,t){e.$store.commit("changeCustomizeMode",!0),t()},oe=function(e){Promise.all([te.loadData(),te.share.getFromServer([])]).then(function(t){var n=Z()(t,1),o=n[0],a=o.user.name,r=o.creator,i=o.customize,s=i.year,u=i.month;e.$store.commit("changeWebliteRelatedData",{year:s,month:u,username:a,isAdmin:r})}),te.share.subscribe(function(t){e.$store.commit("changeNotes",t||{})})},ae=function(e){return te.setHooks({wappWillStart:function(t,n,o){var a=o.mode,r="customize"===a?ne:oe;r(e,t)},onCustomizeValueChange:function(t){var n=t.key,o=t.value;"year"===n?e.$store.commit("changeYear",o):"month"===n&&e.$store.commit("changeMonth",o)}})},re=window,ie=re.W,se=function(e){return ie.share.dispatch([],e,{})},ue=function(e,t){return se(["__assoc",[e,t]])},ce=window,me=ce.W;o["a"].use(i["a"]);var le=new i["a"].Store({state:{year:2019,month:0,username:"",isAdmin:!1,customizeMode:!1,notes:{}},mutations:{changeWebliteRelatedData:function(e,t){var n=t.year,o=t.month,a=t.username,r=t.isAdmin;e.year=n,e.month=o,e.username=a,e.isAdmin=r,me.start()},changeYear:function(e,t){e.year=t},changeMonth:function(e,t){e.month=t},changeCustomizeMode:function(e,t){e.customizeMode=t},changeNotes:function(e,t){e.notes=t}},actions:{addNote:function(e,t){var n=t.day,o=t.note;ue(n,o)}},plugins:[function(e){var t=e.commit;return me.share.subscribe(function(e){return t("changeNotes",e)})}]}),de=window,he=de.W,fe={name:"App",store:le,created:function(){he&&ae(this)},components:{Header:b,Weekday:z,Days:G},computed:r()({},Object(i["b"])(["customizeMode"]))},ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.root},[n("Header"),n("Weekday"),n("Days"),e.customizeMode?n("div",{class:e.$style.customize}):e._e()],1)},pe=[];function be(e){this["$style"]=n("fSpt")}var ve=!1,_e=be,we=null,ge=null,$e=Object(m["a"])(fe,ye,pe,ve,_e,we,ge),De=$e.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(De)}}).$mount("#app")},Pi1K:function(e,t){},SDX9:function(e,t){e.exports={day:"Day_day__3jfq8",invalid:"Day_invalid__3-O_h",today:"Day_today__2rb7z"}},ci6R:function(e,t){e.exports={root:"Weekday_root__2M0Hn"}},fSpt:function(e,t){e.exports={root:"App_root__2SJlR",customize:"App_customize__2cG2X"}},oUnx:function(e,t){e.exports={root:"Header_root__k8v1j"}},w1QW:function(e,t){}},[0]);
//# sourceMappingURL=app.a410723e.js.map